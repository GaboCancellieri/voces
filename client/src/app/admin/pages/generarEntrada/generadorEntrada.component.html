<div class="fixed-nav sticky-footer bg-dark" id="page-top">
  <app-admin-navigation></app-admin-navigation>
  <div class="content-wrapper">
    <div class="container-fluid">
        <h1 class="titulo-admin"> Generador de Entradas</h1>
        <div class="row">
            <div class="col-12 d-flex justify-content-center">
                <p-card header="Generar Entrada" [style]="{'min-width': '30rem'}">
                    <div class="card-body">
                      <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="form-control" pInputText [(ngModel)]="model.nombre" name="nombre"/>
                      </div>
                      <div class="form-group">
                          <label>Apellido</label>
                          <input class="form-control" type="text" pInputText [(ngModel)]="model.apellido" name="descripcion"/>
                      </div>
                      <div class="form-group">
                        <label>Email</label>
                        <input type="text" class="form-control" pInputText [(ngModel)]="model.email" name="nombre"/>
                      </div>
                      <div class="form-group">
                        <label>Show</label> <br>
                        <select class="form-control" placeholder="Elija un show" [(ngModel)]="selectedShow">
                          <option *ngFor="let show of shows" [ngValue]="show">{{show.nombre}}</option>
                        </select>
                      </div>
                      <div class="form-group" style="text-align: center;">
                        <button *ngIf="!loading"  type="button" class="mt-3 mr-3 btn btn-dark" style="background: #FC01A0"
                          [disabled]="!model.nombre || !model.apellido || !model.email || !validarMail() || !selectedShow || (selectedShow && !selectedShow._id)"
                          (click)="crearEntrada()">
                          Generar
                        </button>
                        <button *ngIf="loading" type="button" class="mt-3 mr-3 btn btn-dark" style="background: #FC01A0"
                          [disabled]="true" (click)="crearEntrada()"> <i class="fas fa-spinner fa-pulse"></i>
                        </button>
                      </div>
                    </div>
                </p-card>
            </div>
        </div>
    </div>
  </div>
</div>

<p-toast position="top-right" key="tr" [style]="{ 'margin-top': '32px'}"></p-toast>

<p-confirmDialog [style]="{width: '50vw'}" key="positionDialog" [position]="position" [baseZIndex]="10000"
acceptLabel="Eliminar" rejectLabel="Cancelar"></p-confirmDialog>
